{"version":3,"file":"apl-U57BZSpV.js","sources":["../node_modules/@codemirror/legacy-modes/mode/apl.js"],"sourcesContent":["var builtInFuncs = {\n  \"+\": [\"conjugate\", \"add\"],\n  \"−\": [\"negate\", \"subtract\"],\n  \"×\": [\"signOf\", \"multiply\"],\n  \"÷\": [\"reciprocal\", \"divide\"],\n  \"⌈\": [\"ceiling\", \"greaterOf\"],\n  \"⌊\": [\"floor\", \"lesserOf\"],\n  \"∣\": [\"absolute\", \"residue\"],\n  \"⍳\": [\"indexGenerate\", \"indexOf\"],\n  \"?\": [\"roll\", \"deal\"],\n  \"⋆\": [\"exponentiate\", \"toThePowerOf\"],\n  \"⍟\": [\"naturalLog\", \"logToTheBase\"],\n  \"○\": [\"piTimes\", \"circularFuncs\"],\n  \"!\": [\"factorial\", \"binomial\"],\n  \"⌹\": [\"matrixInverse\", \"matrixDivide\"],\n  \"<\": [null, \"lessThan\"],\n  \"≤\": [null, \"lessThanOrEqual\"],\n  \"=\": [null, \"equals\"],\n  \">\": [null, \"greaterThan\"],\n  \"≥\": [null, \"greaterThanOrEqual\"],\n  \"≠\": [null, \"notEqual\"],\n  \"≡\": [\"depth\", \"match\"],\n  \"≢\": [null, \"notMatch\"],\n  \"∈\": [\"enlist\", \"membership\"],\n  \"⍷\": [null, \"find\"],\n  \"∪\": [\"unique\", \"union\"],\n  \"∩\": [null, \"intersection\"],\n  \"∼\": [\"not\", \"without\"],\n  \"∨\": [null, \"or\"],\n  \"∧\": [null, \"and\"],\n  \"⍱\": [null, \"nor\"],\n  \"⍲\": [null, \"nand\"],\n  \"⍴\": [\"shapeOf\", \"reshape\"],\n  \",\": [\"ravel\", \"catenate\"],\n  \"⍪\": [null, \"firstAxisCatenate\"],\n  \"⌽\": [\"reverse\", \"rotate\"],\n  \"⊖\": [\"axis1Reverse\", \"axis1Rotate\"],\n  \"⍉\": [\"transpose\", null],\n  \"↑\": [\"first\", \"take\"],\n  \"↓\": [null, \"drop\"],\n  \"⊂\": [\"enclose\", \"partitionWithAxis\"],\n  \"⊃\": [\"diclose\", \"pick\"],\n  \"⌷\": [null, \"index\"],\n  \"⍋\": [\"gradeUp\", null],\n  \"⍒\": [\"gradeDown\", null],\n  \"⊤\": [\"encode\", null],\n  \"⊥\": [\"decode\", null],\n  \"⍕\": [\"format\", \"formatByExample\"],\n  \"⍎\": [\"execute\", null],\n  \"⊣\": [\"stop\", \"left\"],\n  \"⊢\": [\"pass\", \"right\"]\n};\n\nvar isOperator = /[\\.\\/⌿⍀¨⍣]/;\nvar isNiladic = /⍬/;\nvar isFunction = /[\\+−×÷⌈⌊∣⍳\\?⋆⍟○!⌹<≤=>≥≠≡≢∈⍷∪∩∼∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⌷⍋⍒⊤⊥⍕⍎⊣⊢]/;\nvar isArrow = /←/;\nvar isComment = /[⍝#].*$/;\n\nvar stringEater = function(type) {\n  var prev;\n  prev = false;\n  return function(c) {\n    prev = c;\n    if (c === type) {\n      return prev === \"\\\\\";\n    }\n    return true;\n  };\n};\n\nexport const apl = {\n  name: \"apl\",\n  startState: function() {\n    return {\n      prev: false,\n      func: false,\n      op: false,\n      string: false,\n      escape: false\n    };\n  },\n  token: function(stream, state) {\n    var ch;\n    if (stream.eatSpace()) {\n      return null;\n    }\n    ch = stream.next();\n    if (ch === '\"' || ch === \"'\") {\n      stream.eatWhile(stringEater(ch));\n      stream.next();\n      state.prev = true;\n      return \"string\";\n    }\n    if (/[\\[{\\(]/.test(ch)) {\n      state.prev = false;\n      return null;\n    }\n    if (/[\\]}\\)]/.test(ch)) {\n      state.prev = true;\n      return null;\n    }\n    if (isNiladic.test(ch)) {\n      state.prev = false;\n      return \"atom\";\n    }\n    if (/[¯\\d]/.test(ch)) {\n      if (state.func) {\n        state.func = false;\n        state.prev = false;\n      } else {\n        state.prev = true;\n      }\n      stream.eatWhile(/[\\w\\.]/);\n      return \"number\";\n    }\n    if (isOperator.test(ch)) {\n      return \"operator\"\n    }\n    if (isArrow.test(ch)) {\n      return \"operator\";\n    }\n    if (isFunction.test(ch)) {\n      state.func = true;\n      state.prev = false;\n      return builtInFuncs[ch] ? \"variableName.function.standard\" : \"variableName.function\"\n    }\n    if (isComment.test(ch)) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (ch === \"∘\" && stream.peek() === \".\") {\n      stream.next();\n      return \"variableName.function\";\n    }\n    stream.eatWhile(/[\\w\\$_]/);\n    state.prev = true;\n    return \"keyword\";\n  }\n}\n"],"names":["builtInFuncs","isOperator","isNiladic","isFunction","isArrow","isComment","stringEater","type","prev","c","apl","stream","state","ch"],"mappings":"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","x_google_ignoreList":[0]}